{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/busIcon.svg","webpack:///./src/views/Home.vue?cc18","webpack:///./src/App.vue","webpack:///./src/App.vue?8ecf","webpack:///./src/views/Home.vue","webpack:///./src/components/Bus.vue","webpack:///./src/components/Route.vue","webpack:///./src/models/Myapi.js","webpack:///./src/components/Route.vue?1f15","webpack:///./src/components/Bus.vue?85ea","webpack:///./src/views/Home.vue?f63c","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/assets/userIcon.svg","webpack:///./src/assets/update.svg","webpack:///./src/components/Bus.vue?4615","webpack:///./src/components/Route.vue?16de"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","script","__exports__","render","class","id","choiceItem","ref","StopName","Zh_tw","StopAddress","timer","settings","breakpoints","realtime","bus","busCardhandle","RouteName","endstop","StopStatus","parseInt","EstimateTime","chooseBusCard","routeSwitch","userStop","cardStartEnd","selfUpdate","href","src","style","close","goEstimatedTime","changeTab","ett","backEstimatedTime","baseURL","log","console","axios","post","catch","getAuthorizationHeader","AppID","AppKey","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","HMAC","getHMAC","Authorization","props","hammer","stopSequence","routeHeadsign","mounted","this","init","getStopSequence","getEstimatedTimeOfArrival","setInterval","countup","methods","card","document","getElementById","display","$emit","$refs","routerCard","set","direction","DIRECTION_HORIZONTAL","on","method","url","headers","Myapi","then","response","forEach","item","stopUID","stopName","item2","stopData","error","fixTime","Direction","sortJSONData","prop","x","y","that","sort","a","b","indexOf","Math","floor","toString","clicked","cityName","tablinks","getElementsByClassName","className","replace","watch","components","Carousel","Slide","Route","itemsToShow","snapAlign","transition","600","800","1024","1200","created","startstop","gesture","DIRECTION_VERTICAL","bottom","getBusRealTime","StationID","getBusDestination","unshift","DestinationStopNameZh","DepartureStopNameZh","val","sortOrder","Bus","geo","mymap","gettingLocation","busData","busIcon","icon","iconUrl","iconSize","iconAnchor","popupAnchor","userIcon","beforeCreate","body","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","getBusStopData","err","errorStr","message","map","center","zoom","zoomControl","tap","tileLayer","maxZoom","attribution","addTo","control","locate","position","drawCircle","flyTo","locateOptions","enableHighAccuracy","markerClass","marker","markerStyle","start","setMarker","StopPosition","PositionLat","PositionLon","title","routes","path","component","Home","meta","router","createRouter","history","createWebHistory","process","beforeEach","to","from","next","createApp","App","use","VueAxios","mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,gECvJTW,EAAOD,QAAU,IAA0B,4B,oCCA3C,W,+KCCE,eAAe,G,yBCAjB,MAAM+B,EAAS,GAGTC,EAA2B,IAAgBD,EAAQ,CAAC,CAAC,SAASE,KAErD,Q,2BCLRC,MAAM,uC,EACT,eAAmC,OAA9BC,GAAG,MAAMD,MAAM,U,qFADtB,eAGM,MAHN,EAGM,CAFJ,EACA,eAAgC,GAA1BE,WAAY,EAAAA,YAAU,yB,iKCFzBD,GAAG,WAAWE,IAAI,W,SAChBH,MAAM,Q,GACLA,MAAM,4B,GACPA,MAAM,iC,+hDAwCHA,MAAM,oB,SAIHA,MAAM,8B,GACJA,MAAM,iB,uBACT,eAAyC,KAAtCA,MAAM,6BAA2B,Y,GAC9BA,MAAM,mB,GACTA,MAAM,uC,uBACT,eAAmB,MAAfA,MAAM,QAAM,Y,iCAEd,eAAsB,KAAnBA,MAAM,QAAO,MAAE,M,SAGhBA,MAAM,2C,uBAGgB,eAAoC,QAA9BA,MAAM,kBAAgB,Y,SAEjDA,MAAM,6C,uBACe,eAAoC,QAA9BA,MAAM,kBAAgB,Y,GAEjDA,MAAM,a,aAKNA,MAAM,kD,uBACe,eAAoC,QAA9BA,MAAM,kBAAgB,Y,uBAO9D,eAEK,MAFDA,MAAM,gDAAgDC,GAAG,YAAW,uBAExE,M,iCAUA,eAA8C,MAA1CD,MAAM,4BAA2B,QAAI,M,GAAzC,G,qIA1FJ,eA4FM,MA5FN,EA4FM,CA3FoB,EAAAE,Y,iBAAxB,eAuFM,MAvFN,EAuFM,CAtFJ,eAAmF,KAAnF,EAAmF,eAA3C,EAAAA,WAAWE,SAASC,OAAK,WACjE,eAAyE,IAAzE,EAAyE,eAA7B,EAAAH,WAAWI,aAAW,GAClE,EAuCA,eAAsD,OAAtD,EAA+B,IAAC,eAAG,EAAAC,OAAQ,OAAI,GAE/C,eAgCW,GAhCAC,SAAU,EAAAA,SAAWC,YAAa,EAAAA,a,yBACpC,iBAAuB,E,mBAA9B,eA8BQ,2BA9Ba,EAAAC,UAAQ,SAAfC,G,wBAAd,eA8BQ,GA9BwBxB,IAAKwB,EAAU,QAAK,mBAAE,EAAAC,cAAcD,K,yBAClE,iBA4BM,CA5BwC,EAAAD,U,iBAA9C,eA4BM,MA5BN,EA4BM,CA3BJ,eA0BM,MA1BN,EA0BM,CAzBJ,EACA,eAAwE,OAAxE,EAAwE,eAAvCC,EAAIE,UAAUR,OAAK,WACpD,eAA+E,IAA/E,EAA+C,IAAC,eAAGM,EAAIG,SAAO,WAC9D,EACyB,GAAdH,EAAII,Y,iBAAf,eAaM,SAZJ,EAIQC,SAASL,EAAIM,eAAY,I,iBAFjC,eAKI,IALJ,EAKI,C,8BADCN,EAAIM,cAAY,GAAG,M,iBAExB,eAEI,IAFJ,EAEI,C,8BADCN,EAAIM,cAAY,GAAG,KAExB,eAAqE,IAArE,EAAqB,MAAG,eAAG,EAAAf,WAAWE,SAASC,OAAK,c,sBAI7B,GAAdM,EAAII,Y,iBAAf,eAIM,SAHJ,eAEI,IAFJ,EAEI,C,8BADCJ,EAAIM,cAAY,GAAG,O,4HAOlC,EAGA,eAME,GALCC,cAAe,EAAAA,cACfC,YAAa,EAAAA,YACbC,SAAU,EAAAlB,WAAWE,SAASC,MAC9BgB,aAAc,EAAAA,aACd,SAAQ,EAAAC,Y,kGAGb,eAEM,a,kLC3FHrB,GAAG,SAASE,IAAI,c,GAEZH,MAAM,U,GAENA,MAAM,eAAeuB,KAAK,K,GAC1BvB,MAAM,iB,uBAAgB,eAAiC,OAA5BwB,IAAA,KAAyB,Y,SAGpDxB,MAAM,O,IASNA,MAAM,MAAMC,GAAG,M,IACbD,MAAM,W,oBAOJA,MAAM,Q,UAUNA,MAAM,Q,IACNA,MAAM,Y,wBAKb,eAAwB,OAAnBA,MAAM,QAAM,Y,IAGdA,MAAM,MAAMC,GAAG,OAAOwB,MAAA,kB,UACpBzB,MAAM,W,UAEJA,MAAM,Q,UACNA,MAAM,Q,IACNA,MAAM,Y,wBAGb,eAAwB,OAAnBA,MAAM,QAAM,Y,iDApDvB,eAuDM,MAvDN,EAuDM,CAtDJ,eAqDM,YApDJ,eAIM,MAJN,EAIM,CAHJ,eAAgD,KAA7CA,MAAM,oBAAqB,QAAK,8BAAE,EAAA0B,OAAA,EAAAA,MAAA,uBACrC,eAAwD,IAAxD,EAAwD,eAApB,EAAAR,eAAa,GACjD,eAA2E,IAA3E,EAA2E,CAAlD,E,eAAiC,KAAE,eAAG,EAAAX,OAAK,OAG/C,EAAAoB,gBAAe,I,iBAAtC,eAOM,MAPN,EAOM,CANJ,eAES,UAFD3B,MAAM,yBAA8B,QAAK,+BAAE,EAAA4B,UAAS,iBAAiB,KAC1E,eAAG,EAAAP,aAAY,OAElB,eAES,UAFDrB,MAAM,kBAAuB,QAAK,+BAAE,EAAA4B,UAAS,qBAAqB,KACvE,eAAG,EAAAP,aAAY,U,sBAIpB,eAyBM,MAzBN,GAyBM,CAxBJ,eAsBM,MAtBN,GAsBM,E,mBArBJ,eAoBM,2BAlBU,EAAAM,iBAAe,SAAtBE,G,wBAFT,eAoBM,OAnBJ7B,MAAM,WAELb,IAAK0C,EACL5B,GAAE,CAAG4B,EAAIzB,SAASC,QAAU,EAAAe,SAAQ,gB,CAEfS,EAAIZ,c,iBAA1B,eASI,IATJ,GASI,CARF,eAOC,QANEjB,MAAK,gBAAuC,QAAhB,EAAI,aAAY,eAAkD,SAAS,EAAI,cAAY,oB,eAKrH6B,EAAIZ,cAAY,O,iBAGvB,eAA+B,IAA/B,GAAuB,SACvB,eAEI,IAFJ,GAEI,eADCY,EAAIzB,SAASC,OAAK,I,iBAI3B,KAGF,eASM,MATN,GASM,CARuB,EAAAyB,mB,iBAA3B,eAMM,MANN,GAMM,E,mBALJ,eAIM,2BAJ8B,EAAAA,mBAAiB,SAAxBD,G,wBAA7B,eAIM,OAJD7B,MAAM,WAA6Cb,IAAK0C,G,CACrCA,EAAIZ,c,iBAA1B,eAAkE,IAAlE,GAAkE,eAAvBY,EAAIZ,cAAY,K,iBAC3D,eAA+B,IAA/B,GAAuB,SACvB,eAAgD,IAAhD,GAAgD,eAAzBY,EAAIzB,SAASC,OAAK,Q,+BAG7C,Q,kEClDF0B,GAAU,2BAID,IACbC,IADa,SACThG,GAEF,OADAiG,QAAQD,IAAIhG,GACLkG,KAAMC,KAAKJ,GAAS/F,GAAMoG,OAAM,gBAEzCC,uBALa,WAMX,IAAIC,EAAQ,mCACRC,EAAS,8BAETC,GAAY,IAAIC,MAAOC,cACvBC,EAAS,IAAIC,QAAM,QAAS,QAChCD,EAAOE,WAAWN,EAAQ,QAC1BI,EAAOG,OAAO,WAAaN,GAC3B,IAAIO,EAAOJ,EAAOK,QAAQ,OACtBC,EAAgB,kBAAoBX,EAAQ,0DAA4DS,EAAO,IACnH,MAAO,CAAEE,cAAeA,EAAe,SAAUT,K,wBDyCtC,IACbU,MAAO,CAAC,gBAAiB,cAAe,WAAY,gBACpDlH,KAFa,WAGX,MAAO,CACLmH,OAAQ,KACR5C,MAAO,EACPoB,gBAAiB,GACjBG,kBAAmB,GACnBsB,aAAc,GACdC,cAAe,KAGnBC,QAZa,WAaXC,KAAKC,OACLD,KAAKE,kBACLF,KAAKG,4BACLH,KAAKhD,MAAQoD,YAAYJ,KAAKK,QAAS,MAEzCC,QAAS,CACPD,QADO,WAELL,KAAKhD,SAEPmB,MAJO,WAKL,IAAIoC,EAAOC,SAASC,eAAe,UACnCF,EAAKrC,MAAMwC,QAAU,OACrBV,KAAKW,MAAM,UAAU,IAEvBV,KATO,WASA,WACLD,KAAKJ,OAAS,IAAI,KAAOI,KAAKY,MAAMC,YAEpCb,KAAKJ,OAAO1E,IAAI,SAAS4F,IAAI,CAAEC,UAAW,KAAOC,uBAEjDhB,KAAKJ,OAAOqB,GAAG,cAAc,WAC3B,IAAIV,EAAOC,SAASC,eAAe,UACnCF,EAAKrC,MAAMwC,QAAU,OACrB,EAAKC,MAAM,UAAU,OAGzBT,gBApBO,WAoBW,WAChBF,KAAKH,aAAe,GACpBG,KAAKrB,MAAM,CACTuC,OAAQ,MACRC,IAAK,oEAAF,OAAsEnB,KAAKrC,cAA3E,8CAA8HqC,KAAKrC,cAAnI,kBACHyD,QAASC,GAAMvC,2BAEdwC,MAAK,SAACC,GACLA,EAAS9I,KAAK+I,SAAQ,SAACC,GACrB,IAAIC,EAAU,GACZC,EAAW,GAEbF,EAAK,SAASD,SAAQ,SAACI,GACrBF,EAAQnI,KAAKqI,EAAM,YACnBD,EAASpI,KAAKqI,EAAM,YAAY,aAElC,IAAIC,EAAW,CAACH,EAASC,GACzB,EAAK9B,aAAatG,KAAKsI,SAG1BhD,OAAM,SAACiD,GAAD,OAAWpD,QAAQD,IAAI,QAASqD,OAE3C3B,0BA1CO,WA0CqB,WAC1BH,KAAKrB,MAAM,CACTuC,OAAQ,MACRC,IAAK,+EAAF,OAAiFnB,KAAKrC,cAAtF,8CAAyIqC,KAAKrC,cAA9I,kBACHyD,QAASC,GAAMvC,2BAEdwC,MAAK,SAACC,GACL,IAAI9I,EAAO,EAAKsJ,QAAQR,EAAS9I,MAEjC,EAAK2F,gBAAkB,GACvB,EAAKG,kBAAoB,GACzB9F,EAAK+I,SAAQ,SAACC,GACU,GAAlBA,EAAKO,UACP,EAAK5D,gBAAgB7E,KAAKkI,GACC,GAAlBA,EAAKO,WACd,EAAKzD,kBAAkBhF,KAAKkI,MAIhC,EAAKQ,aAAa,EAAK7D,gBAAiB,GACxC,EAAK6D,aAAa,EAAK1D,kBAAmB,MAE3CM,OAAM,SAACiD,GAAD,OAAWpD,QAAQD,IAAI,QAASqD,OAE3CG,aAlEO,SAkEMC,EAAMnJ,GACjB,IAAIoJ,EAAGC,EACHC,EAAOrC,KAEX,OAAOkC,EAAKI,MAAK,SAAUC,EAAGC,GAI5B,OAHAL,EAAIE,EAAKxC,aAAa9G,GAAG,GAAG0J,QAAQF,EAAE,YACtCH,EAAIC,EAAKxC,aAAa9G,GAAG,GAAG0J,QAAQD,EAAE,YAE/BL,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,MAGpCL,QA7EO,SA6ECtJ,GAcN,OAbAA,EAAK+I,SAAQ,SAACC,GACZ,GAAIA,EAAK,gBAAkB,MAAQA,EAAK,gBAAkB,GAAI,CAC5D,IAAIlG,EAAImH,KAAKC,MAAMlB,EAAK,gBAAkB,IACtClG,EAAI,KACNA,EAAI,IAAMA,EAAEqH,YAEdnB,EAAK,gBAAkBlG,EAAI,SAClBkG,EAAK,gBAAkB,GAAIA,EAAK,gBAAkB,MACjC,GAAnBA,EAAKjE,WAAiBiE,EAAK,gBAAkB,OAC1B,GAAnBA,EAAKjE,WAAiBiE,EAAK,gBAAkB,QAC1B,GAAnBA,EAAKjE,WAAiBiE,EAAK,gBAAkB,QAC1B,GAAnBA,EAAKjE,aAAiBiE,EAAK,gBAAkB,YAEjDhJ,GAET4F,UA7FO,SA6FGwE,EAASC,GACjB,IAAI/J,EAAGoJ,EAAGY,EAEV,IADAZ,EAAI3B,SAASwC,uBAAuB,OAC/BjK,EAAI,EAAGA,EAAIoJ,EAAElJ,OAAQF,IACxBoJ,EAAEpJ,GAAGmF,MAAMwC,QAAU,OAGvB,IADAqC,EAAWvC,SAASwC,uBAAuB,WACtCjK,EAAI,EAAGA,EAAIoJ,EAAElJ,OAAQF,IACxBgK,EAAShK,GAAGkK,UAAYF,EAAShK,GAAGkK,UAAUC,QAAQ,YAAa,IAErE1C,SAASC,eAAeqC,GAAU5E,MAAMwC,QAAU,QAElDF,SAASwC,uBAAuBH,GAAS,GAAGI,WAAa,cAG7DE,MAAO,CACLvF,YAAa,WACX,IAAI2C,EAAOC,SAASC,eAAe,UACX,GAApBT,KAAKpC,aACPoC,KAAKE,kBACLF,KAAKG,4BACLI,EAAKrC,MAAMwC,QAAU,SAErBH,EAAKrC,MAAMwC,QAAU,QAGzB1D,MAAO,WACDgD,KAAKhD,OAAS,KAChBgD,KAAKhD,MAAQ,EACbgD,KAAKG,gC,UEpMb,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAE1E,UHgGA,kBAAgB,CAC7BtF,KAAM,MACN8E,MAAO,CAAC,cACRyD,WAAY,CACVC,SAAA,OACAC,MAAA,OACAC,UAEF9K,KAAM,iBAAO,CACXmH,OAAQ,KACR9B,aAAc,CAAC,UAAW,aAC1BF,aAAa,EACbZ,MAAO,EAEPC,SAAU,CACRuG,YAAa,EACbC,UAAW,QACXC,WAAY,KAEdxG,YAAa,CAEXyG,IAAK,CACHH,YAAa,EACbC,UAAW,SAGbG,IAAK,CACHJ,YAAa,EACbC,UAAW,SAEbI,KAAM,CACJL,YAAa,EACbC,UAAW,SAEbK,KAAM,CACJN,YAAa,EACbC,UAAW,UAGftG,SAAU,GACVQ,cAAe,OAEjBoG,QA1C6B,WA2C3B/D,KAAKhD,MAAQoD,YAAYJ,KAAKK,QAAS,MAEzCN,QA7C6B,WA8C3BC,KAAKC,QAEPK,QAAS,CACPD,QADO,WAELL,KAAKhD,SAEPK,cAJO,SAIOD,GACZ4C,KAAKrC,cAAgBP,EAAIE,UAAUR,MACd,GAAjBM,EAAI4E,UACNhC,KAAKlC,aAAe,CAACV,EAAIG,QAASH,EAAI4G,WAEtChE,KAAKlC,aAAe,CAACV,EAAI4G,UAAW5G,EAAIG,SAE1CyC,KAAKpC,aAAeoC,KAAKpC,aAE3BqC,KAbO,WAcLD,KAAKJ,OAAS,IAAI,KAAOI,KAAKY,MAAMqD,SAEpCjE,KAAKJ,OAAO1E,IAAI,SAAS4F,IAAI,CAAEC,UAAW,KAAOmD,qBAEjDlE,KAAKJ,OAAOqB,GAAG,WAAW,WACxB,IAAIV,EAAOC,SAASC,eAAe,YACnCF,EAAKrC,MAAMiG,OAAS,OAGtBnE,KAAKJ,OAAOqB,GAAG,aAAa,WAC1B,IAAIV,EAAOC,SAASC,eAAe,YACnCF,EAAKrC,MAAMiG,OAAS,aAGxBC,eA5BO,WA4BU,WACfpE,KAAKrB,MAAM,CACTuC,OAAQ,MACRC,IAAK,mGAAF,OAAqGnB,KAAKrD,WAAW0H,UAArH,iBACHjD,QAASC,GAAMvC,2BAEdwC,MAAK,SAACC,GACL,EAAKpE,SAAWoE,EAAS9I,KACzB,EAAK6L,oBAEL,EAAKnH,SAASmF,MAAK,SAAUC,EAAGC,GAC9B,OAAOA,EAAE9E,aAAe6E,EAAE7E,gBAE5B,EAAKP,SAASqE,SAAQ,SAACC,EAAM1I,GACT,QAAd0I,EAAK5G,OACP,EAAKsC,SAAShD,OAAOpB,EAAG,GACxB,EAAKoE,SAASoH,QAAQ9C,UAI3B5C,OAAM,SAACiD,GAAD,OAAWpD,QAAQD,IAAI,QAASqD,OAE3CwC,kBAlDO,WAkDa,WAClBtE,KAAK7C,SAASqE,SAAQ,SAACC,GACrB,EAAK9C,MAAM,CACTuC,OAAQ,MAERC,IAAK,8DAAF,OAAgEM,EAAKnE,UAAUR,MAA/E,8CAA0H2E,EAAKnE,UAAUR,MAAzI,kBACHsE,QAASC,GAAMvC,2BAEdwC,MAAK,SAACC,GAYL,GAVsB,GAAlBE,EAAKO,WACPP,EAAK,aAAeF,EAAS9I,KAAK,GAAG+L,sBACrC/C,EAAK,WAAaF,EAAS9I,KAAK,GAAGgM,qBACR,GAAlBhD,EAAKO,YACdP,EAAK,aAAeF,EAAS9I,KAAK,GAAGgM,oBACrChD,EAAK,WAAaF,EAAS9I,KAAK,GAAG+L,uBAKjC/C,EAAK,gBAAkB,GAAI,CAE7B,IAAIlG,EAAImH,KAAKC,MAAMlB,EAAK,gBAAkB,IAAImB,WAC1CrH,EAAI,KACNA,EAAI,IAAMA,GAEZkG,EAAK,gBAAkBlG,EAAI,UAClBkG,EAAK,gBAAkB,GAAIA,EAAK,gBAAkB,MACjC,GAAnBA,EAAKjE,WAAiBiE,EAAK,gBAAkB,OAC1B,GAAnBA,EAAKjE,WAAiBiE,EAAK,gBAAkB,QAC1B,GAAnBA,EAAKjE,WAAiBiE,EAAK,gBAAkB,QAC1B,GAAnBA,EAAKjE,aAAiBiE,EAAK,gBAAkB,YAEvD5C,OAAM,SAACiD,GAAD,OAAWpD,QAAQD,IAAI,QAASqD,UAG7C/D,WAtFO,SAsFI2G,GACT1E,KAAKpC,YAAc8G,GAErBC,UAzFO,SAyFGzC,GACR,OAAO,SAAUK,EAAGC,GAClB,OAAID,EAAEL,GAAQM,EAAEN,GACP,EACEK,EAAEL,GAAQM,EAAEN,IACb,EAEH,KAIbiB,MAAO,CACLxG,WAAY,WACVqD,KAAKoE,iBACLpE,KAAKpC,aAAc,EACnBoC,KAAKhD,MAAQ,EACb,IAAIuD,EAAOC,SAASC,eAAe,YACnCF,EAAKrC,MAAMiG,OAAS,OAEtBnH,MAAO,WACDgD,KAAKhD,OAAS,KAChBgD,KAAKhD,MAAQ,EACbgD,KAAKoE,sB,UIjQb,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAE1E,ULIA,IACbvJ,KAAM,OACNuI,WAAY,CAAEwB,QACdnM,KAHa,WAIX,MAAO,CACLkE,WAAY,GACZkI,IAAK,CAAC,OAAQ,SACdC,MAAO,KACPC,gBAAiB,KACjBC,QAAS,KACTC,QAAS,IAAQC,KAAK,CACpBC,QAAS,EAAQ,QACjBC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,EAAE,GAAI,MAErBC,SAAU,IAAQL,KAAK,CACrBC,QAAS,EAAQ,QACjBC,SAAU,CAAC,GAAI,IACfC,WAAY,CAAC,GAAI,IACjBC,YAAa,EAAE,GAAI,QAIzBvF,QAxBa,WAyBXC,KAAKC,QAEPuF,aAAc,WACZhF,SAASiF,KAAKxC,UAAY,QAE5Bc,QA9Ba,WA8BH,WACF,gBAAiB2B,YAIvB1F,KAAK+E,iBAAkB,EAEvBW,UAAUC,YAAYC,oBACpB,SAACC,GACC,EAAKd,iBAAkB,EACvB,EAAKF,IAAM,CAACgB,EAAIC,OAAOC,SAAUF,EAAIC,OAAOE,WAC5C,EAAKC,eAAe,EAAKpB,IAAI,GAAI,EAAKA,IAAI,OAE5C,SAACqB,GACC,EAAKnB,iBAAkB,EACvB,EAAKoB,SAAWD,EAAIE,aAI1B9F,QAAS,CACPL,KADO,WAELD,KAAK8E,MAAQ,IAAQuB,IAAI,MAAO,CAC9BC,OAAQtG,KAAK6E,IACb0B,KAAM,GACNC,aAAa,EACbC,KAAK,IAGP,IACGC,UAEC,oHACA,CACEC,QAAS,GACTJ,KAAM,GACNK,YACE,4EAGLC,MAAM7G,KAAK8E,OAEd,IAAQgC,QACLC,OAAO,CACNC,SAAU,cACV9B,KAAM,WACN+B,YAAY,EACZC,OAAO,EACPC,cAAe,CACbC,oBAAoB,GAEtBC,YAAa,IAAQC,OACrBC,YAAa,CACXrC,KAAMlF,KAAKuF,YAGdsB,MAAM7G,KAAK8E,OACX0C,SAELvB,eAvCO,SAuCQF,EAAUC,GAAW,WAC9BhG,KAAKgF,QACPtG,QAAQD,IAAI,WAGZC,QAAQD,IAAI,aAEZuB,KAAKrB,MAAM,CACTuC,OAAQ,MACRC,IAAK,8EAAF,OAAgF4E,EAAhF,YAA4FC,EAA5F,sBACH5E,QAASC,GAAMvC,2BAEdwC,MAAK,SAACC,GACL,EAAKyD,QAAUzD,EAAS9I,KACxB,EAAKgP,eAEN5I,OAAM,SAACiD,GAAD,OAAWpD,QAAQD,IAAI,QAASqD,QAI7C2F,UA3DO,WA2DK,WAENpF,EAAOrC,KAEXA,KAAKgF,QAAQxD,SAAQ,SAACC,GACpB,IACG6F,OAAO,CAAC7F,EAAKiG,aAAaC,YAAalG,EAAKiG,aAAaE,aAAc,CACtE1C,KAAM,EAAKD,QACX4C,MAAOpG,EAAK5E,SAASC,QAEtB+J,MAAM,EAAK/B,OACX7D,GAAG,SAAS,WACXoB,EAAK1F,WAAa8E,W,UM9H9B,MAAM,GAA2B,IAAgB,GAAQ,CAAC,CAAC,SAAS,KAErD,UCNTqG,GAAS,CACb,CACEC,KAAM,IACNlN,KAAM,OACNmN,UAAWC,GACXC,KAAM,CACJL,MAAO,WAKPM,GAASC,eAAa,CAC1BC,QAASC,eAAiBC,KAC1BT,YAGFK,GAAOK,YAAW,SAACC,EAAIC,EAAMC,GAC3BnI,SAASqH,MAAT,UAAoBY,EAAGP,KAAKL,OAC5Bc,OAGaR,U,aCjBfS,eAAUC,GAAKC,IAAIX,IAAQW,IAAIC,QAAUpK,MAAOqK,MAAM,S,gDCPtDxO,EAAOD,QAAU,IAA0B,6B,8CCA3CC,EAAOD,QAAU,IAA0B,2B,oCCA3C,W,gFCAA","file":"js/app.acd634c1.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = __webpack_public_path__ + \"img/busIcon.20e800f2.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Home.vue?vue&type=style&index=0&id=ac6ed8b0&lang=css\"","<template>\n  <router-view />\n</template>\n","import { render } from \"./App.vue?vue&type=template&id=43f8a59e\"\nconst script = {}\n\nimport exportComponent from \"C:\\\\Users\\\\f4167\\\\OneDrive\\\\桌面\\\\w3\\\\w3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"flex flex-col h-screen max-h-screen\">\n    <div id=\"map\" class=\"h-full\"></div>\n    <Bus :choiceItem=\"choiceItem\" />\n  </div>\n</template>\n\n<script>\nimport leaflet from \"leaflet\";\nimport \"leaflet.locatecontrol\";\nimport Bus from \"@/components/Bus.vue\";\nimport Myapi from \"@/models/Myapi\";\n\nexport default {\n  name: \"Home\",\n  components: { Bus },\n  data() {\n    return {\n      choiceItem: \"\",\n      geo: [25.045, 121.536],\n      mymap: null,\n      gettingLocation: null,\n      busData: null,\n      busIcon: leaflet.icon({\n        iconUrl: require(\"@/assets/busIcon.svg\"),\n        iconSize: [32, 32],\n        iconAnchor: [13, 24],\n        popupAnchor: [-3, -76]\n      }),\n      userIcon: leaflet.icon({\n        iconUrl: require(\"@/assets/userIcon.svg\"),\n        iconSize: [48, 48],\n        iconAnchor: [13, 24],\n        popupAnchor: [-3, -76]\n      })\n    };\n  },\n  mounted() {\n    this.init();\n  },\n  beforeCreate: function () {\n    document.body.className = \"home\";\n  },\n  created() {\n    if (!(\"geolocation\" in navigator)) {\n      return;\n    }\n\n    this.gettingLocation = true;\n    // get position\n    navigator.geolocation.getCurrentPosition(\n      (pos) => {\n        this.gettingLocation = false;\n        this.geo = [pos.coords.latitude, pos.coords.longitude];\n        this.getBusStopData(this.geo[0], this.geo[1]);\n      },\n      (err) => {\n        this.gettingLocation = false;\n        this.errorStr = err.message;\n      }\n    );\n  },\n  methods: {\n    init() {\n      this.mymap = leaflet.map(\"map\", {\n        center: this.geo,\n        zoom: 12,\n        zoomControl: false,\n        tap: false\n      });\n\n      leaflet\n        .tileLayer(\n          // \"https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png?api_key=2ebbece2-a602-41ff-96c6-745a4f4b46bb\",\n          \"https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png?api_key=2ebbece2-a602-41ff-96c6-745a4f4b46bb\",\n          {\n            maxZoom: 20,\n            zoom: 17,\n            attribution:\n              '&copy; <a href=\"https://2021.thef2e.com/works\">我們就是要組隊</a> contributors'\n          }\n        )\n        .addTo(this.mymap);\n\n      leaflet.control\n        .locate({\n          position: \"bottomright\",\n          icon: \"location\",\n          drawCircle: false,\n          flyTo: true,\n          locateOptions: {\n            enableHighAccuracy: true\n          },\n          markerClass: leaflet.marker,\n          markerStyle: {\n            icon: this.userIcon\n          }\n        })\n        .addTo(this.mymap)\n        .start();\n    },\n    getBusStopData(latitude, longitude) {\n      if (this.busData) {\n        console.log(\"已有站牌資料\");\n        // showTourismData();\n      } else {\n        console.log(\"取得站牌API資料\");\n\n        this.axios({\n          method: \"get\",\n          url: `https://ptx.transportdata.tw/MOTC/v2/Bus/Stop/NearBy?$spatialFilter=nearby(${latitude},${longitude},800)&$format=JSON`,\n          headers: Myapi.getAuthorizationHeader()\n        })\n          .then((response) => {\n            this.busData = response.data;\n            this.setMarker();\n          })\n          .catch((error) => console.log(\"error\", error));\n      }\n      return;\n    },\n    setMarker() {\n      // this指向問題\n      var that = this;\n\n      this.busData.forEach((item) => {\n        leaflet\n          .marker([item.StopPosition.PositionLat, item.StopPosition.PositionLon], {\n            icon: this.busIcon,\n            title: item.StopName.Zh_tw\n          })\n          .addTo(this.mymap)\n          .on(\"click\", function () {\n            that.choiceItem = item;\n          });\n      });\n    }\n  }\n};\n</script>\n\n<style>\nbody.home {\n  font-family: \"PingFang TC\", \"Noto Sans TC\", sans-serif;\n  max-height: 100vh;\n  overflow: hidden;\n}\n.leaflet-control-locate {\n  width: 48px;\n  height: 48px;\n  border-radius: 999em !important;\n  position: fixed;\n  bottom: 48px;\n  right: 30px;\n  margin: 0 !important;\n  border: 2px solid white !important;\n  background-color: #fff;\n}\n\n.leaflet-control-locate:hover {\n  background: rgba(255, 168, 0, 0.6);\n}\n\n.following {\n  background-color: #ffa800;\n}\n\n.leaflet-touch .leaflet-bar a {\n  width: 100%;\n  height: 100%;\n  background: none;\n}\n\n.following {\n  background-color: #ffa800;\n}\n\n.mytooltip {\n  background-color: #fff;\n  border: 0;\n  border-radius: 100px;\n  box-shadow: 4px 2px 10px rgba(0, 0, 0, 0.25) !important;\n  padding: 4px 8px;\n  margin-top: 15px;\n  opacity: 1 !important;\n}\n.location {\n  content: \"\";\n  display: block;\n  width: 100%;\n  height: 100%;\n  width: 100%;\n  height: 100%;\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E %3Cpath d='M10 4C9 4 9 5 9 5L9 5.1A5 5 0 0 0 5.1 9L5 9C5 9 4 9 4 10 4 11 5 11 5 11L5.1 11A5 5 0 0 0 9 14.9L9 15C9 15 9 16 10 16 11 16 11 15 11 15L11 14.9A5 5 0 0 0 14.9 11L15 11C15 11 16 11 16 10 16 9 15 9 15 9L14.9 9A5 5 0 0 0 11 5.1L11 5C11 5 11 4 10 4zM10 6.5A3.5 3.5 0 0 1 13.5 10 3.5 3.5 0 0 1 10 13.5 3.5 3.5 0 0 1 6.5 10 3.5 3.5 0 0 1 10 6.5zM10 8.3A1.8 1.8 0 0 0 8.3 10 1.8 1.8 0 0 0 10 11.8 1.8 1.8 0 0 0 11.8 10 1.8 1.8 0 0 0 10 8.3z'/%3E %3C/svg%3E\");\n}\n</style>\n","<template>\r\n  <div id=\"infoCard\" ref=\"gesture\">\r\n    <div class=\"info\" v-if=\"choiceItem\">\r\n      <h1 class=\"font-bold text-2xl title\">{{ choiceItem.StopName.Zh_tw || \"NULL\" }}</h1>\r\n      <p class=\"text-base text-gray-800 title\">{{ choiceItem.StopAddress }}</p>\r\n      <div class=\"absolute right-10 top-6 text-center\">\r\n        <svg class=\"text-2xl\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n            d=\"M16.5455 4C14.6364 4 12.9545 4.93333 12 6.4C11.0455 4.93333 9.36364 4 7.45455 4C4.45455 4 2 6.4 2 9.33333C2 14.6222 12 20 12 20C12 20 22 14.6667 22 9.33333C22 6.4 19.5455 4 16.5455 4Z\"\r\n            fill=\"#FF4A55\"\r\n            stroke=\"#FF4A55\"\r\n          />\r\n        </svg>\r\n        <p class=\"text-sm\">收藏</p>\r\n      </div>\r\n      <div class=\"absolute right-24 top-6 text-center\">\r\n        <svg class=\"text-2xl\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path\r\n            d=\"M9.33069 20.3481L1.65187 12.6693C0.782711 11.8002 0.782711 10.1998 1.65187 9.33069L9.33069 1.65187C10.1998 0.782711 11.8002 0.782711 12.6693 1.65187L20.3481 9.33069C21.2173 10.1998 21.2173 11.8002 20.3481 12.6693L12.6693 20.3481C11.8002 21.2173 10.1998 21.2173 9.33069 20.3481Z\"\r\n            fill=\"#377BFF\"\r\n            stroke=\"#377BFF\"\r\n            stroke-width=\"2\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M7.25 13.5V11C7.25 10.2625 7.7675 9.75 8.5 9.75H14.75\"\r\n            stroke=\"white\"\r\n            stroke-width=\"2\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          />\r\n          <path\r\n            d=\"M12.252 7.24405L14.7559 9.74801L12.252 12.252\"\r\n            stroke=\"white\"\r\n            stroke-width=\"2\"\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n          />\r\n        </svg>\r\n        <p class=\"text-sm\">路線</p>\r\n      </div>\r\n      <hr class=\"pt-4 mt-4\" />\r\n      <h1 class=\"font-bold text-lg pb-3 inline-block\">即將抵達本站公車</h1>\r\n      <span class=\"float-right px-3\">於{{ timer }}秒前更新</span>\r\n\r\n      <Carousel :settings=\"settings\" :breakpoints=\"breakpoints\">\r\n        <Slide v-for=\"bus in realtime\" :key=\"bus\" v-on:click=\"busCardhandle(bus)\">\r\n          <div class=\"carousel__item rounded-2xl\" v-if=\"realtime\">\r\n            <div class=\"p-3 text-left\">\r\n              <i class=\"fas fa-bus font-bold mr-1\"></i>\r\n              <span class=\"font-bold title\">{{ bus.RouteName.Zh_tw || \"NULL\" }}</span>\r\n              <p class=\"text-left text-gray-800 text-sm p-1\">往{{ bus.endstop || \"NULL\" }}</p>\r\n              <hr class=\"mt-2\" />\r\n              <div v-if=\"bus.StopStatus == 0\">\r\n                <p class=\"mt-4\">再過</p>\r\n\r\n                <p\r\n                  class=\"text-left text-black text-2xl font-bold\"\r\n                  v-if=\"parseInt(bus.EstimateTime) >= 10\"\r\n                >\r\n                  {{ bus.EstimateTime }}<span class=\"text-base px-1\"></span>\r\n                </p>\r\n                <p class=\"text-left text-red-500 text-2xl font-bold\" v-else>\r\n                  {{ bus.EstimateTime }}<span class=\"text-base px-1\"></span>\r\n                </p>\r\n                <p class=\"text-left\">即抵達{{ choiceItem.StopName.Zh_tw || \"NULL\" }}</p>\r\n              </div>\r\n\r\n              <!-- 這邊快被API氣死，有時StopSatus有問題，有時EstimateTime有問題 -->\r\n              <div v-if=\"bus.StopStatus != 0\">\r\n                <p class=\"text-left text-red-500 text-2xl font-bold mt-8\">\r\n                  {{ bus.EstimateTime }}<span class=\"text-base px-1\"></span>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Slide>\r\n      </Carousel>\r\n      <h1 class=\"font-bold text-base text-center speech-bubble\" id=\"snackbar\">\r\n        請點擊，立即獲得更多公車動態資訊！\r\n      </h1>\r\n      <Route\r\n        :chooseBusCard=\"chooseBusCard\"\r\n        :routeSwitch=\"routeSwitch\"\r\n        :userStop=\"choiceItem.StopName.Zh_tw\"\r\n        :cardStartEnd=\"cardStartEnd\"\r\n        @update=\"selfUpdate\"\r\n      />\r\n    </div>\r\n    <div v-else>\r\n      <h1 class=\"font-bold text-2xl title\">點擊站牌</h1>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineComponent } from \"vue\";\r\nimport { Carousel, Slide } from \"vue3-carousel\";\r\nimport \"vue3-carousel/dist/carousel.css\";\r\nimport Route from \"@/components/Route.vue\";\r\nimport Myapi from \"@/models/Myapi\";\r\n\r\nimport Hammer from \"hammerjs\";\r\n\r\nexport default defineComponent({\r\n  name: \"Bus\",\r\n  props: [\"choiceItem\"],\r\n  components: {\r\n    Carousel,\r\n    Slide,\r\n    Route\r\n  },\r\n  data: () => ({\r\n    hammer: null,\r\n    cardStartEnd: [\"ENDSTOP\", \"STARTSTOP\"],\r\n    routeSwitch: false,\r\n    timer: 0,\r\n    // carousel settings\r\n    settings: {\r\n      itemsToShow: 2,\r\n      snapAlign: \"start\",\r\n      transition: 150\r\n    },\r\n    breakpoints: {\r\n      // 700px and up\r\n      600: {\r\n        itemsToShow: 3,\r\n        snapAlign: \"start\"\r\n      },\r\n      // 1024 and up\r\n      800: {\r\n        itemsToShow: 4,\r\n        snapAlign: \"start\"\r\n      },\r\n      1024: {\r\n        itemsToShow: 5,\r\n        snapAlign: \"start\"\r\n      },\r\n      1200: {\r\n        itemsToShow: 2,\r\n        snapAlign: \"start\"\r\n      }\r\n    },\r\n    realtime: [],\r\n    chooseBusCard: \"18\"\r\n  }),\r\n  created() {\r\n    this.timer = setInterval(this.countup, 1000);\r\n  },\r\n  mounted() {\r\n    this.init();\r\n  },\r\n  methods: {\r\n    countup() {\r\n      this.timer++;\r\n    },\r\n    busCardhandle(bus) {\r\n      this.chooseBusCard = bus.RouteName.Zh_tw;\r\n      if (bus.Direction == 0) {\r\n        this.cardStartEnd = [bus.endstop, bus.startstop];\r\n      } else {\r\n        this.cardStartEnd = [bus.startstop, bus.endstop];\r\n      }\r\n      this.routeSwitch = !this.routeSwitch;\r\n    },\r\n    init() {\r\n      this.hammer = new Hammer(this.$refs.gesture);\r\n      // 需識別事件\r\n      this.hammer.get(\"swipe\").set({ direction: Hammer.DIRECTION_VERTICAL });\r\n\r\n      this.hammer.on(\"swipeup\", () => {\r\n        var card = document.getElementById(\"infoCard\");\r\n        card.style.bottom = \"0\";\r\n      });\r\n\r\n      this.hammer.on(\"swipedown\", () => {\r\n        var card = document.getElementById(\"infoCard\");\r\n        card.style.bottom = \"-450px\";\r\n      });\r\n    },\r\n    getBusRealTime() {\r\n      this.axios({\r\n        method: \"get\",\r\n        url: `https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/Taipei/PassThrough/Station/${this.choiceItem.StationID}?$format=JSON`,\r\n        headers: Myapi.getAuthorizationHeader()\r\n      })\r\n        .then((response) => {\r\n          this.realtime = response.data;\r\n          this.getBusDestination();\r\n          // 字卡剩餘時間時間排序\r\n          this.realtime.sort(function (a, b) {\r\n            return b.EstimateTime - a.EstimateTime;\r\n          });\r\n          this.realtime.forEach((item, i) => {\r\n            if (item.name === \"進站中\") {\r\n              this.realtime.splice(i, 1);\r\n              this.realtime.unshift(item);\r\n            }\r\n          });\r\n        })\r\n        .catch((error) => console.log(\"error\", error));\r\n    },\r\n    getBusDestination() {\r\n      this.realtime.forEach((item) => {\r\n        this.axios({\r\n          method: \"get\",\r\n          // 這邊用filter 確保取得正確路線\r\n          url: `https://ptx.transportdata.tw/MOTC/v2/Bus/Route/City/Taipei/${item.RouteName.Zh_tw}?$filter=RouteName%2FZh_tw%20eq%20'${item.RouteName.Zh_tw}'&$format=JSON`,\r\n          headers: Myapi.getAuthorizationHeader()\r\n        })\r\n          .then((response) => {\r\n            // Direction [0:'去程',1:'返程',2:'迴圈',255:'未知']\r\n            if (item.Direction == 1) {\r\n              item[\"startstop\"] = response.data[0].DestinationStopNameZh;\r\n              item[\"endstop\"] = response.data[0].DepartureStopNameZh;\r\n            } else if (item.Direction == 0) {\r\n              item[\"startstop\"] = response.data[0].DepartureStopNameZh;\r\n              item[\"endstop\"] = response.data[0].DestinationStopNameZh;\r\n            }\r\n\r\n            // StopStatus (Int32, optional): 車輛狀態備註 : [0:'正常',1:'尚未發車',2:'交管不停靠',3:'末班車已過',4:'今日未營運'] ,\r\n\r\n            if (item[\"EstimateTime\"] > 60) {\r\n              //分鐘\r\n              let t = Math.floor(item[\"EstimateTime\"] / 60).toString();\r\n              if (t < 10) {\r\n                t = \"0\" + t;\r\n              }\r\n              item[\"EstimateTime\"] = t + \"分鐘\";\r\n            } else if (item[\"EstimateTime\"] < 60) item[\"EstimateTime\"] = \"進站中\";\r\n            else if (item.StopStatus == 1) item[\"EstimateTime\"] = \"尚未發車\";\r\n            else if (item.StopStatus == 2) item[\"EstimateTime\"] = \"交管不停靠\";\r\n            else if (item.StopStatus == 3) item[\"EstimateTime\"] = \"末班車已過\";\r\n            else if (item.StopStatus == 4) item[\"EstimateTime\"] = \"今日未營運\";\r\n          })\r\n          .catch((error) => console.log(\"error\", error));\r\n      });\r\n    },\r\n    selfUpdate(val) {\r\n      this.routeSwitch = val;\r\n    },\r\n    sortOrder(prop) {\r\n      return function (a, b) {\r\n        if (a[prop] > b[prop]) {\r\n          return 1;\r\n        } else if (a[prop] < b[prop]) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      };\r\n    }\r\n  },\r\n  watch: {\r\n    choiceItem: function () {\r\n      this.getBusRealTime();\r\n      this.routeSwitch = false;\r\n      this.timer = 0;\r\n      var card = document.getElementById(\"infoCard\");\r\n      card.style.bottom = \"0px\";\r\n    },\r\n    timer: function () {\r\n      if (this.timer >= 30) {\r\n        this.timer = 0;\r\n        this.getBusRealTime();\r\n      }\r\n    }\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.title {\r\n  width: 70%;\r\n  height: 32px;\r\n}\r\n#infoCard {\r\n  position: absolute;\r\n  bottom: -450px;\r\n  z-index: 1001;\r\n  background: #fff;\r\n  box-shadow: 0px 0px 14px 4px rgba(0, 0, 0, 0.1);\r\n  border-radius: 20px 20px 0px 0px;\r\n  padding: 18px 24px;\r\n  width: 100vw;\r\n  box-sizing: border-box;\r\n  transition: bottom 0.5s, width 0.5s;\r\n}\r\n\r\n.carousel__item {\r\n  margin: 12px;\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  height: 200px;\r\n  width: 100%;\r\n  box-shadow: 0px 0px 11.8048px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.carousel__slide {\r\n  height: 200px;\r\n}\r\n\r\n/* speech bubble */\r\n.speech-bubble {\r\n  position: relative;\r\n  border-radius: 0 30px 30px 30px;\r\n  padding: 9px;\r\n  width: 63%;\r\n  margin-top: 10px;\r\n  margin-left: 45px;\r\n  box-shadow: 2px 5px 18px -3px rgb(0 0 0 / 10%);\r\n  border: 2px solid #e8e8e8;\r\n  color: #535353;\r\n}\r\n\r\n.speech-bubble.show {\r\n  visibility: visible;\r\n  -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;\r\n  animation: fadein 0.5s, fadeout 0.5s 2.5s;\r\n}\r\n\r\n@-webkit-keyframes fadein {\r\n  from {\r\n    bottom: 0;\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    bottom: 30px;\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes fadein {\r\n  from {\r\n    bottom: 0;\r\n    opacity: 0;\r\n  }\r\n  to {\r\n    bottom: 30px;\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@-webkit-keyframes fadeout {\r\n  from {\r\n    bottom: 30px;\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    bottom: 0;\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@keyframes fadeout {\r\n  from {\r\n    bottom: 30px;\r\n    opacity: 1;\r\n  }\r\n  to {\r\n    bottom: 0;\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n@media screen and (min-width: 1200px) {\r\n  #infoCard {\r\n    position: absolute;\r\n    bottom: -450px;\r\n    background: #fff;\r\n    box-shadow: 0px 0px 14px 4px rgba(0, 0, 0, 0.1);\r\n    border-radius: 20px;\r\n    padding: 18px 24px;\r\n    width: 500px;\r\n    height: 500px;\r\n    margin: 0px 0 50px 50px;\r\n    box-sizing: border-box;\r\n    transition: bottom 0.5s, width 0.5s;\r\n  }\r\n}\r\n\r\n@media (prefers-color-scheme: dark) {\r\n  * {\r\n    color: #bdc1c6;\r\n  }\r\n  #infoCard {\r\n    background: #202124;\r\n  }\r\n  .carousel__item {\r\n    border: 1px solid rgba(255, 255, 255, 0.7);\r\n  }\r\n  .text-red-500 {\r\n    color: rgba(239, 68, 68, var(--tw-text-opacity));\r\n  }\r\n  .speech-bubble {\r\n    background: #bdc1c6;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <div id=\"router\" ref=\"routerCard\">\r\n    <div>\r\n      <nav class=\"navbar\">\r\n        <i class=\"fas fa-arrow-left\" @click=\"close\"></i>\r\n        <p class=\"navbar-brand\" href=\"#\">{{ chooseBusCard }}</p>\r\n        <p class=\"navbar-update\"><img src=\"@/assets/update.svg\" />更新{{ timer }}</p>\r\n      </nav>\r\n\r\n      <div class=\"tab\" v-if=\"goEstimatedTime[0]\">\r\n        <button class=\"tablink goTab activate\" v-on:click=\"changeTab('goTab', 'go')\">\r\n          往{{ cardStartEnd[0] }}\r\n        </button>\r\n        <button class=\"tablink backTab\" v-on:click=\"changeTab('backTab', 'back')\">\r\n          往{{ cardStartEnd[1] }}\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"row\" id=\"go\">\r\n        <div class=\"BusData\">\r\n          <div\r\n            class=\"busroute\"\r\n            v-for=\"ett in goEstimatedTime\"\r\n            :key=\"ett\"\r\n            :id=\"[ett.StopName.Zh_tw === userStop ? 'userHere' : '']\"\r\n          >\r\n            <p class=\"time\" v-if=\"ett.EstimateTime\">\r\n              <span\r\n                :class=\"[\r\n                  ett.EstimateTime === '進站中' ? 'busArrive' : '',\r\n                  parseInt(ett.EstimateTime) < 3 ? 'busComing' : ''\r\n                ]\"\r\n              >\r\n                {{ ett.EstimateTime }}</span\r\n              >\r\n            </p>\r\n            <p class=\"time\" v-else>尚未發車</p>\r\n            <p class=\"stopname\">\r\n              {{ ett.StopName.Zh_tw }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div class=\"line\"></div>\r\n      </div>\r\n\r\n      <div class=\"row\" id=\"back\" style=\"display: none\">\r\n        <div class=\"BusData\" v-if=\"backEstimatedTime\">\r\n          <div class=\"busroute\" v-for=\"ett in backEstimatedTime\" :key=\"ett\">\r\n            <p class=\"time\" v-if=\"ett.EstimateTime\">{{ ett.EstimateTime }}</p>\r\n            <p class=\"time\" v-else>尚未發車</p>\r\n            <p class=\"stopname\">{{ ett.StopName.Zh_tw }}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"line\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Myapi from \"@/models/Myapi\";\r\nimport Hammer from \"hammerjs\";\r\n\r\nexport default {\r\n  props: [\"chooseBusCard\", \"routeSwitch\", \"userStop\", \"cardStartEnd\"],\r\n  data() {\r\n    return {\r\n      hammer: null,\r\n      timer: 0,\r\n      goEstimatedTime: [],\r\n      backEstimatedTime: [],\r\n      stopSequence: [],\r\n      routeHeadsign: []\r\n    };\r\n  },\r\n  mounted() {\r\n    this.init();\r\n    this.getStopSequence();\r\n    this.getEstimatedTimeOfArrival();\r\n    this.timer = setInterval(this.countup, 1000);\r\n  },\r\n  methods: {\r\n    countup() {\r\n      this.timer++;\r\n    },\r\n    close() {\r\n      var card = document.getElementById(\"router\");\r\n      card.style.display = \"none\";\r\n      this.$emit(\"update\", false);\r\n    },\r\n    init() {\r\n      this.hammer = new Hammer(this.$refs.routerCard);\r\n\r\n      this.hammer.get(\"swipe\").set({ direction: Hammer.DIRECTION_HORIZONTAL });\r\n\r\n      this.hammer.on(\"swiperight\", () => {\r\n        var card = document.getElementById(\"router\");\r\n        card.style.display = \"none\";\r\n        this.$emit(\"update\", false);\r\n      });\r\n    },\r\n    getStopSequence() {\r\n      this.stopSequence = [];\r\n      this.axios({\r\n        method: \"get\",\r\n        url: `https://ptx.transportdata.tw/MOTC/v2/Bus/StopOfRoute/City/Taipei/${this.chooseBusCard}?$filter=RouteName%2FZh_tw%20eq%20'${this.chooseBusCard}'&$format=JSON`,\r\n        headers: Myapi.getAuthorizationHeader()\r\n      })\r\n        .then((response) => {\r\n          response.data.forEach((item) => {\r\n            let stopUID = [],\r\n              stopName = [];\r\n\r\n            item[\"Stops\"].forEach((item2) => {\r\n              stopUID.push(item2[\"StopUID\"]);\r\n              stopName.push(item2[\"StopName\"][\"Zh_tw\"]);\r\n            });\r\n            let stopData = [stopUID, stopName];\r\n            this.stopSequence.push(stopData);\r\n          });\r\n        })\r\n        .catch((error) => console.log(\"error\", error));\r\n    },\r\n    getEstimatedTimeOfArrival() {\r\n      this.axios({\r\n        method: \"get\",\r\n        url: `https://ptx.transportdata.tw/MOTC/v2/Bus/EstimatedTimeOfArrival/City/Taipei/${this.chooseBusCard}?$filter=RouteName%2FZh_tw%20eq%20'${this.chooseBusCard}'&$format=JSON`,\r\n        headers: Myapi.getAuthorizationHeader()\r\n      })\r\n        .then((response) => {\r\n          let data = this.fixTime(response.data);\r\n\r\n          this.goEstimatedTime = [];\r\n          this.backEstimatedTime = [];\r\n          data.forEach((item) => {\r\n            if (item.Direction == 0) {\r\n              this.goEstimatedTime.push(item);\r\n            } else if (item.Direction == 1) {\r\n              this.backEstimatedTime.push(item);\r\n            }\r\n          });\r\n\r\n          this.sortJSONData(this.goEstimatedTime, 0);\r\n          this.sortJSONData(this.backEstimatedTime, 1);\r\n        })\r\n        .catch((error) => console.log(\"error\", error));\r\n    },\r\n    sortJSONData(prop, i) {\r\n      let x, y;\r\n      var that = this;\r\n\r\n      return prop.sort(function (a, b) {\r\n        x = that.stopSequence[i][0].indexOf(a[\"StopUID\"]);\r\n        y = that.stopSequence[i][0].indexOf(b[\"StopUID\"]);\r\n\r\n        return x < y ? -1 : x > y ? 1 : 0;\r\n      });\r\n    },\r\n    fixTime(data) {\r\n      data.forEach((item) => {\r\n        if (item[\"EstimateTime\"] < 3600 && item[\"EstimateTime\"] > 60) {\r\n          let t = Math.floor(item[\"EstimateTime\"] / 60);\r\n          if (t < 10) {\r\n            t = \"0\" + t.toString();\r\n          }\r\n          item[\"EstimateTime\"] = t + \"分\";\r\n        } else if (item[\"EstimateTime\"] < 60) item[\"EstimateTime\"] = \"進站中\";\r\n        else if (item.StopStatus == 1) item[\"EstimateTime\"] = \"尚未發車\";\r\n        else if (item.StopStatus == 2) item[\"EstimateTime\"] = \"交管不停靠\";\r\n        else if (item.StopStatus == 3) item[\"EstimateTime\"] = \"末班車已過\";\r\n        else if (item.StopStatus == 4) item[\"EstimateTime\"] = \"今日未營運\";\r\n      });\r\n      return data;\r\n    },\r\n    changeTab(clicked, cityName) {\r\n      var i, x, tablinks;\r\n      x = document.getElementsByClassName(\"row\");\r\n      for (i = 0; i < x.length; i++) {\r\n        x[i].style.display = \"none\";\r\n      }\r\n      tablinks = document.getElementsByClassName(\"tablink\");\r\n      for (i = 0; i < x.length; i++) {\r\n        tablinks[i].className = tablinks[i].className.replace(\" activate\", \"\");\r\n      }\r\n      document.getElementById(cityName).style.display = \"block\";\r\n\r\n      document.getElementsByClassName(clicked)[0].className += \" activate\";\r\n    }\r\n  },\r\n  watch: {\r\n    routeSwitch: function () {\r\n      var card = document.getElementById(\"router\");\r\n      if (this.routeSwitch == true) {\r\n        this.getStopSequence();\r\n        this.getEstimatedTimeOfArrival();\r\n        card.style.display = \"block\";\r\n      } else {\r\n        card.style.display = \"none\";\r\n      }\r\n    },\r\n    timer: function () {\r\n      if (this.timer >= 30) {\r\n        this.timer = 0;\r\n        this.getEstimatedTimeOfArrival();\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#router {\r\n  display: none; /* Hidden by default */\r\n  position: fixed; /* Stay in place */\r\n  z-index: 1001; /* Sit on top */\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%; /* Full width */\r\n  height: 100%; /* Full height */\r\n  overflow: auto; /* Enable scroll if needed */\r\n  background-color: rgba(255, 255, 255, 1); /* Black w/ opacity */\r\n}\r\n/* hide scroll bar */\r\n#router::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n/* Hide scrollbar for IE, Edge and Firefox */\r\n#router {\r\n  -ms-overflow-style: none; /* IE and Edge */\r\n  scrollbar-width: none; /* Firefox */\r\n}\r\n.row {\r\n  padding-top: 35px;\r\n}\r\n.busroute {\r\n  position: relative;\r\n  width: 100%;\r\n  margin-left: 5%;\r\n  height: 54px;\r\n  line-height: 54px;\r\n  font-size: 20px;\r\n  border-bottom: 1px solid;\r\n  border-image: linear-gradient(\r\n    to right,\r\n    rgba(156, 156, 156, 0.2) 0%,\r\n    rgba(90, 90, 90, 0.2) 10%,\r\n    rgba(90, 90, 90, 0.2) 80%,\r\n    rgba(255, 255, 255, 0) 90%\r\n  );\r\n  border-image-slice: 1;\r\n}\r\n.time {\r\n  width: 30%;\r\n  text-align: center;\r\n  display: inline-block;\r\n  font-weight: 600;\r\n}\r\n.stopname {\r\n  width: 64%;\r\n  display: inline-block;\r\n}\r\n/* 路線圖與公車互動 */\r\n.busArrive {\r\n  border: 1px solid #ff4a55;\r\n  border-radius: 10px;\r\n  padding: 8px 12px;\r\n  color: #ff4a55;\r\n}\r\n.busComing {\r\n  color: #ff4a55;\r\n}\r\n#userHere {\r\n  background: linear-gradient(to right, #fff8ec30, #fff8ec, #fff8ec00);\r\n}\r\n\r\n#userHere::before {\r\n  content: \"\";\r\n  width: 26px;\r\n  height: 26px;\r\n  background: #ffa80033;\r\n  position: absolute;\r\n  right: 12px;\r\n  margin-top: 16px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.BusData {\r\n  width: 90%;\r\n  max-width: 500px;\r\n  border-right: 1px solid rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.busroute:after {\r\n  content: \"\";\r\n  /* background: #ffa800; */\r\n  background: #d9d5cc;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 50%;\r\n  display: inline-block;\r\n}\r\n\r\n/* navbar */\r\n.navbar {\r\n  box-shadow: 0px 0px 14px 4px rgb(0 0 0 / 10%);\r\n  height: 85px;\r\n  line-height: 85px;\r\n  padding: 0 35px;\r\n  max-width: 500px;\r\n}\r\n.navbar-brand {\r\n  font-size: 35px;\r\n  font-weight: 700;\r\n  width: 70%;\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n.navbar-update,\r\n.navbar-update img {\r\n  margin-right: 5px;\r\n  display: inline-block;\r\n  font-size: 18px;\r\n}\r\n.fa-arrow-left {\r\n  vertical-align: middle;\r\n  font-size: 25px;\r\n  margin-right: 15px;\r\n  cursor: pointer;\r\n}\r\n/* bar */\r\n.tab {\r\n  width: 100vw;\r\n  max-width: 500px;\r\n}\r\n.tab button {\r\n  width: 50%;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  font-size: 18px;\r\n  border-radius: 100px;\r\n}\r\n.tab button:hover {\r\n  background: #fff8ec;\r\n}\r\n\r\n.tab button.activate {\r\n  border-bottom: 4px solid #ffa800;\r\n  border-radius: 100px;\r\n  transition: transform 500ms ease-out;\r\n}\r\n\r\n@media screen and (min-width: 1200px) {\r\n  #router {\r\n    position: absolute;\r\n    top: 0px;\r\n    z-index: 1001;\r\n    background: #fff;\r\n    box-shadow: 0px 0px 14px 4px rgba(0, 0, 0, 0.1);\r\n    border-radius: 20px;\r\n    width: 500px;\r\n    margin: 0;\r\n    box-sizing: border-box;\r\n  }\r\n  #userHere::before {\r\n    right: 9px;\r\n  }\r\n}\r\n\r\n@media screen and (max-width: 500px) {\r\n  .navbar-brand {\r\n    width: 57%;\r\n  }\r\n  .tab button {\r\n    font-size: 16px;\r\n  }\r\n}\r\n@media (prefers-color-scheme: dark) {\r\n  #router {\r\n    background: #202124;\r\n  }\r\n  .carousel__item {\r\n    border: 1px solid rgba(255, 255, 255, 0.7);\r\n  }\r\n  .text-red-500 {\r\n    color: rgba(239, 68, 68, var(--tw-text-opacity));\r\n  }\r\n  .BusData {\r\n    border-right: 1px solid rgba(255, 255, 255, 0.7);\r\n  }\r\n  .navbar-update img {\r\n    filter: contrast(0);\r\n  }\r\n  #userHere {\r\n    background: linear-gradient(to right, #00000000, #fff8ec36, #00000000);\r\n  }\r\n}\r\n</style>\r\n","import axios from \"axios\";\r\nimport jsSHA from \"jssha\";\r\n\r\nconst baseURL = \"http://ogala.ga:1111/log\";\r\n// const tdxURL = \"https://ptx.transportdata.tw/MOTC/v2/Bus/\";\r\n// `https://ptx.transportdata.tw/MOTC/v2/Bus/Stop/NearBy?$spatialFilter=nearby(${latitude},${longitude},800)&$format=JSON`,\r\n\r\nexport default {\r\n  log(data) {\r\n    console.log(data);\r\n    return axios.post(baseURL, data).catch(() => {});\r\n  },\r\n  getAuthorizationHeader() {\r\n    let AppID = \"69121a1d8f714a5faa4f54c512bb459e\";\r\n    let AppKey = \"nYALaDjx1Au-PYCnZOnL-InFIZI\";\r\n\r\n    let GMTString = new Date().toGMTString();\r\n    let ShaObj = new jsSHA(\"SHA-1\", \"TEXT\");\r\n    ShaObj.setHMACKey(AppKey, \"TEXT\");\r\n    ShaObj.update(\"x-date: \" + GMTString);\r\n    let HMAC = ShaObj.getHMAC(\"B64\");\r\n    let Authorization = 'hmac username=\"' + AppID + '\", algorithm=\"hmac-sha1\", headers=\"x-date\", signature=\"' + HMAC + '\"';\r\n    return { Authorization: Authorization, \"X-Date\": GMTString };\r\n  }\r\n};\r\n","import { render } from \"./Route.vue?vue&type=template&id=420d7963&scoped=true\"\nimport script from \"./Route.vue?vue&type=script&lang=js\"\nexport * from \"./Route.vue?vue&type=script&lang=js\"\n\nimport \"./Route.vue?vue&type=style&index=0&id=420d7963&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\f4167\\\\OneDrive\\\\桌面\\\\w3\\\\w3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-420d7963\"]])\n\nexport default __exports__","import { render } from \"./Bus.vue?vue&type=template&id=beb65724&scoped=true\"\nimport script from \"./Bus.vue?vue&type=script&lang=js\"\nexport * from \"./Bus.vue?vue&type=script&lang=js\"\n\nimport \"./Bus.vue?vue&type=style&index=0&id=beb65724&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\f4167\\\\OneDrive\\\\桌面\\\\w3\\\\w3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-beb65724\"]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=ac6ed8b0\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=ac6ed8b0&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\f4167\\\\OneDrive\\\\桌面\\\\w3\\\\w3\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from \"vue-router\";\nimport Home from \"@/views/Home.vue\";\n\nconst routes = [\n  {\n    path: \"/\",\n    name: \"Home\",\n    component: Home,\n    meta: {\n      title: \"W3 公車\"\n    }\n  }\n];\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\n\nrouter.beforeEach((to, from, next) => {\n  document.title = `${to.meta.title}`;\n  next();\n});\n\nexport default router;\n","import { createApp } from \"vue\";\r\nimport App from \"@/App.vue\";\r\nimport \"@/assets/tailwind.css\";\r\nimport router from \"@/router\";\r\nimport axios from \"axios\";\r\nimport VueAxios from \"vue-axios\";\r\n\r\ncreateApp(App).use(router).use(VueAxios, axios).mount(\"#app\");\r\n","module.exports = __webpack_public_path__ + \"img/userIcon.d14e758e.svg\";","module.exports = __webpack_public_path__ + \"img/update.90cd15cd.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Bus.vue?vue&type=style&index=0&id=beb65724&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Route.vue?vue&type=style&index=0&id=420d7963&scoped=true&lang=css\""],"sourceRoot":""}